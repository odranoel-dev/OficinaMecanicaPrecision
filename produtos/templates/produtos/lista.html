{% extends 'produtos/base.html' %} 

{% block content %}

<style>
    .estoque-baixo td {
        background-color: #fff3cd !important; 
        font-weight: bold;
    }
    .alerta-icone {
        color: #d9534f; 
        margin-right: 6px;
    }
</style>

<h2
  style="
    text-align: center;
    margin-bottom: 20px;
    color: #333;
    font-family: 'Trebuchet MS', sans-serif;
  "
>
  ⚙️ Peças
</h2>

<table
  class="table"
  style="
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    border-radius: 12px;
    overflow: hidden;
  "
>
  <thead
    style="background: linear-gradient(90deg, #6a11cb, #2575fc); color: white"
  >
    <tr>
      <th>Peça</th>
      <th>Quantidade</th>
      <th>Prateleira</th>
      <th>Código</th>
      <th>Estoque Mínimo</th>
    </tr>
  </thead>
  <tbody>
    {% for produto in produtos %}
    <tr {% if produto.quantidade < produto.minimo %} class="estoque-baixo" {% endif %}>
      <td>
        {% if produto.quantidade < produto.minimo %}
            <span class="alerta-icone">⚠️</span>
        {% endif %}
        {{ produto.peca }}
      </td>
      <td>{{ produto.quantidade }}</td>
      <td>{{ produto.prateleira }}</td>
      <td>{{ produto.codigo }}</td>
      <td>{{ produto.minimo }}</td>
    </tr>
    {% empty %}
    <tr>
      <td
        colspan="5"
        style="text-align: center; font-style: italic; color: #777"
      >
        Nenhum produto cadastrado.
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
